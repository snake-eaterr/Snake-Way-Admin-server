(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{519:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a(15),n=a.n(r),s=a(607),o=a(605),i=a(26),d=a(608),j=a(609),u=a(591),b=a(592),O=a(614),l=a(596),x=a(5),h=function(e){return Object(x.jsx)(d.a,Object(i.a)(Object(i.a)({},e),{},{children:Object(x.jsxs)(j.a,{rowClick:"edit",children:[Object(x.jsx)(u.a,{source:"username"}),Object(x.jsx)(u.a,{source:"id"}),Object(x.jsx)(b.a,{})]})}))},p=function(e){return Object(x.jsx)(O.a,Object(i.a)(Object(i.a)({},e),{},{children:Object(x.jsxs)(l.a,{children:[Object(x.jsx)(u.a,{source:"username"}),Object(x.jsx)(u.a,{source:"id"})]})}))},g=a(597),f=a(598),m=a(595),y=a(611),v=a(610),k=a(600),w=a(601),P=a(619),A=a(602),S=a(612),z=a(603),q=a(615),E=a(73),I=a(118),J=a(68),N=a(621),B=Object(I.a)((function(e){return{root:{padding:e.spacing(2),marginBottom:e.spacing(2)}}})),C=function(e){var t=e.source,a=B(),c=Object(E.b)();return c?Object(x.jsx)("div",{children:c[t].map((function(e){return Object(x.jsxs)("div",{className:a.root,children:[Object(x.jsx)(N.a,{value:e.rating,readOnly:!0}),Object(x.jsx)(J.a,{variant:"body1",children:e.text})]})}))}):null},M=function(e){var t=e.source,a=Object(E.b)(),r=Object(c.useMemo)((function(){return a[t].reduce((function(e,t){return e+t.rating}),0)/a[t].length}),[t,a]);return a?Object(x.jsx)("div",{children:Object(x.jsx)(N.a,{value:r,readOnly:!0})}):null},F=function(e){return Object(x.jsx)(d.a,Object(i.a)(Object(i.a)({},e),{},{children:Object(x.jsxs)(j.a,{children:[Object(x.jsx)(u.a,{source:"label"}),Object(x.jsx)(g.a,{source:"price"}),Object(x.jsx)(g.a,{source:"stock"}),Object(x.jsx)(u.a,{source:"category"}),Object(x.jsx)(f.a,{source:"created"}),Object(x.jsx)(u.a,{source:"id"}),Object(x.jsx)(b.a,{}),Object(x.jsx)(m.a,{})]})}))},D=function(e){return Object(x.jsx)(y.a,Object(i.a)(Object(i.a)({},e),{},{children:Object(x.jsxs)(v.a,{children:[Object(x.jsx)(k.a,{source:"label"}),Object(x.jsx)(k.a,{source:"description"}),Object(x.jsx)(w.a,{source:"price"}),Object(x.jsx)(w.a,{source:"stock"}),Object(x.jsx)(P.a,{source:"category",choices:[{id:"Electronics",name:"Electronics"},{id:"Books",name:"Books"},{id:"Clothing",name:"Clothing"}]}),Object(x.jsx)(A.a,{disabled:!0,source:"created"}),Object(x.jsx)(k.a,{disabled:!0,source:"id"}),Object(x.jsx)(S.a,{source:"image",label:"Product image",accept:"image/*",children:Object(x.jsx)(z.a,{source:"src",title:"title"})})]})}))},L=function(e){return Object(x.jsx)(q.a,Object(i.a)(Object(i.a)({},e),{},{children:Object(x.jsxs)(v.a,{children:[Object(x.jsx)(k.a,{required:!0,source:"label"}),Object(x.jsx)(k.a,{required:!0,source:"description"}),Object(x.jsx)(w.a,{required:!0,source:"price"}),Object(x.jsx)(w.a,{required:!0,source:"stock"}),Object(x.jsx)(P.a,{source:"category",choices:[{id:"Electronics",name:"Electronics"},{id:"Books",name:"Books"},{id:"Clothing",name:"Clothing"}]}),Object(x.jsx)(A.a,{disabled:!0,source:"created"}),Object(x.jsx)(k.a,{disabled:!0,source:"id"}),Object(x.jsx)(S.a,{required:!0,source:"image",label:"Product image",accept:"image/*",children:Object(x.jsx)(z.a,{source:"src",title:"title"})})]})}))},R=function(e){e.source;var t=Object(E.b)();return Object(x.jsx)("img",{src:"/api/products/image/".concat(t.id),alt:"Product image"})},T=function(e){return Object(x.jsx)(O.a,Object(i.a)(Object(i.a)({},e),{},{children:Object(x.jsxs)(l.a,{children:[Object(x.jsx)(M,{source:"reviews"}),Object(x.jsx)(u.a,{source:"description"}),Object(x.jsx)(g.a,{source:"price"}),Object(x.jsx)(g.a,{source:"stock"}),Object(x.jsx)(u.a,{source:"category"}),Object(x.jsx)(f.a,{source:"created"}),Object(x.jsx)(u.a,{source:"id"}),Object(x.jsx)(R,{source:"image"}),Object(x.jsx)(C,{source:"reviews"})]})}))},W=a(604),_=a(616),G=a(618),H=function(e){return Object(x.jsx)(d.a,Object(i.a)(Object(i.a)({},e),{},{children:Object(x.jsxs)(j.a,{rowClick:"edit",children:[Object(x.jsx)(W.a,{source:"shipped"}),Object(x.jsx)(W.a,{source:"finished"}),Object(x.jsx)(g.a,{source:"quantity"}),Object(x.jsx)(u.a,{source:"address"}),Object(x.jsx)(_.a,{source:"orderedProduct",reference:"products",children:Object(x.jsx)(u.a,{source:"id"})}),Object(x.jsx)(_.a,{source:"user",reference:"users",children:Object(x.jsx)(u.a,{source:"id"})}),Object(x.jsx)(f.a,{source:"created"}),Object(x.jsx)(u.a,{source:"id"}),Object(x.jsx)(b.a,{}),Object(x.jsx)(m.a,{})]})}))},K=function(e){return Object(x.jsx)(y.a,Object(i.a)(Object(i.a)({},e),{},{children:Object(x.jsxs)(v.a,{children:[Object(x.jsx)(G.a,{source:"shipped"}),Object(x.jsx)(G.a,{disabled:!0,source:"finished"}),Object(x.jsx)(w.a,{disabled:!0,source:"quantity"}),Object(x.jsx)(k.a,{disabled:!0,source:"address"}),Object(x.jsx)(k.a,{disabled:!0,source:"orderedProduct"}),Object(x.jsx)(k.a,{disabled:!0,source:"user"}),Object(x.jsx)(A.a,{disabled:!0,source:"created"}),Object(x.jsx)(k.a,{disabled:!0,source:"id"})]})}))},Q=function(e){return Object(x.jsx)(O.a,Object(i.a)(Object(i.a)({},e),{},{children:Object(x.jsxs)(l.a,{children:[Object(x.jsx)(W.a,{source:"shipped"}),Object(x.jsx)(W.a,{source:"finished"}),Object(x.jsx)(g.a,{source:"quantity"}),Object(x.jsx)(u.a,{source:"address"}),Object(x.jsx)(_.a,{source:"orderedProduct",reference:"products",children:Object(x.jsx)(u.a,{source:"id"})}),Object(x.jsx)(_.a,{source:"user",reference:"users",children:Object(x.jsx)(u.a,{source:"id"})}),Object(x.jsx)(f.a,{source:"created"}),Object(x.jsx)(u.a,{source:"id"})]})}))},U=a(606),V=a(315),X=a(316),Y=function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)(J.a,{variant:"h5",children:"Snake Way Admin App"}),Object(x.jsx)("a",{href:"https://github.com/snake-eaterr?tab=repositories",target:"_blank",rel:"noreferrer",children:Object(x.jsxs)(J.a,{varinat:"h6",children:[Object(x.jsx)(V.a,{icon:X.a})," snake-eaterr"]})})]})},Z=a(151),$=a(105),ee=function(){return JSON.parse(localStorage.getItem("adminauth"))},te=a(55),ae=a.n(te),ce="/api",re={getList:function(e,t){var a=t.pagination,c=a.page,r=a.perPage,n=t.sort,s={sort:n.field,order:n.order,start:(c-1)*r,end:c*r},o="".concat(ce,"/").concat(e,"?").concat(Object($.stringify)(s));return ae.a.get(o,{headers:{Authorization:"bearer ".concat(ee())}}).then((function(e){return{data:e.data,total:parseInt(e.headers.xtotalcount.split("/").pop(),10)}}))},getOne:function(e,t){return ae.a.get("".concat(ce,"/").concat(e,"/").concat(t.id),{headers:{Authorization:"bearer ".concat(ee())}}).then((function(e){return{data:e.data}}))},getMany:function(e,t){var a={filter:JSON.stringify({id:t.ids})},c="".concat(ce,"/").concat(e,"?").concat(Object($.stringify)(a));return ae.a.get(c,{headers:{Authorization:"bearer ".concat(ee())}}).then((function(e){return{data:e.data}}))},getManyReference:function(e,t){var a=t.pagination,c=a.page,r=a.perPage,n=t.sort,s={sort:n.field,order:n.order,start:(c-1)*r,end:c*r,filter:Object(Z.a)({},t.target,t.id)},o="".concat(ce,"/").concat(e,"?").concat(Object($.stringify)(s));return ae.a.get(o,{headers:{Authorization:"bearer ".concat(ee())}}).then((function(e){return{data:e.data,total:parseInt(e.headers.xtotalcount.split("/").pop(),10)}}))},update:function(e,t){if("products"!==e)return ae.a.put("".concat(ce,"/").concat(e,"/").concat(t.id),t.data,{headers:{Authorization:"bearer ".concat(ee())}}).then((function(e){return{data:e.data}}));var a=new FormData;return t.data.category&&a.append("category",t.data.category),t.data.description&&a.append("description",t.data.description),t.data.label&&a.append("label",t.data.label),t.data.price&&a.append("price",t.data.price),t.data.stock&&a.append("stock",t.data.stock),t.data.image&&a.append("image",t.data.image.rawFile),ae.a.put("".concat(ce,"/").concat(e,"/").concat(t.id),a,{headers:{Authorization:"bearer ".concat(ee())}}).then((function(e){return{data:e.data}}))},updateMany:function(e,t){var a={filter:JSON.stringify({id:t.ids})};return ae.a.put("".concat(ce,"/").concat(e,"?").concat(Object($.stringify)(a)),t.data,{headers:{Authorization:"bearer ".concat(ee())}}).then((function(e){return{data:e.data}}))},create:function(e,t){var a=new FormData;return t.data.category&&a.append("category",t.data.category),t.data.description&&a.append("description",t.data.description),t.data.label&&a.append("label",t.data.label),t.data.price&&a.append("price",t.data.price),t.data.stock&&a.append("stock",t.data.stock),t.data.image&&a.append("image",t.data.image.rawFile),ae.a.post("".concat(ce,"/").concat(e),a,{headers:{Authorization:"bearer ".concat(ee())}}).then((function(e){return Object(i.a)(Object(i.a)({},t.data),{},{id:e.data.id})}))},delete:function(e,t){return ae.a.delete("".concat(ce,"/").concat(e,"/").concat(t.id),{headers:{Authorization:"bearer ".concat(ee())}}).then((function(e){return{data:e.data}}))},deleteMany:function(e,t){var a={filter:JSON.stringify({id:t.ids})};return console.log(a,Object($.stringify)(a)),ae.a.delete("".concat(ce,"/").concat(e,"?").concat(Object($.stringify)(a)),{headers:{Authorization:"bearer ".concat(ee())}}).then((function(e){return{data:e.data}}))}},ne={login:function(e){var t=e.username,a=e.password;return ae.a.post("".concat("/auth","/login"),{username:t,password:a}).then((function(e){if(e.status<200||e>=300)throw new Error(e.statusText);return e.data})).then((function(e){localStorage.setItem("adminauth",JSON.stringify(e.token)),console.log(e)})).catch((function(){throw new Error("Netowrk error")}))},logout:function(){return localStorage.removeItem("adminauth"),Promise.resolve()},checkError:function(e){var t=e.status;if(401===t||403===t)return localStorage.removeItem("adminauth"),Promise.reject()},checkAuth:function(){return localStorage.getItem("adminauth")?Promise.resolve():Promise.reject()},getPermissions:function(){return Promise.resolve()}},se=function(){return Object(x.jsxs)(s.a,{dashboard:Y,authProvider:ne,dataProvider:re,children:[Object(x.jsx)(o.a,{name:"products",show:T,list:F,edit:D,create:L}),Object(x.jsx)(o.a,{name:"users",list:h,show:p,icon:U.a}),Object(x.jsx)(o.a,{name:"orders",list:H,edit:K,show:Q})]})};n.a.render(Object(x.jsx)(se,{}),document.getElementById("root"))}},[[519,1,2]]]);
//# sourceMappingURL=main.a1db8ab1.chunk.js.map